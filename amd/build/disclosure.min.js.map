{"version":3,"file":"disclosure.min.js","sources":["../src/disclosure.js"],"sourcesContent":["/**\n * This file is part of Moodle - http://moodle.org/\n *\n * Moodle is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Moodle is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n *\n * @author    Juan Felipe Martinez\n * @copyright Copyright (c) 2017 Open LMS / 2023 Anthology Inc. and its affiliates\n * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\n/**\n * JS code to listen the disclosure agreement checkbox in an assignment\n * configured with SafeAssign.\n */\nimport $ from 'jquery';\nimport ajax from 'core/ajax';\n\nconst disclosure = {\n    /**\n     * Detects the change of from the  disclosure agreement\n     * checkbox and sends the flag state to a webservice\n     * to be stored in the DB.\n     * @param {int} cmid - course module ID\n     * @param {int} userid - user ID\n     */\n    init: function(cmid, userid) {\n        $(\"input[name = agreement]\").click(function() {\n            var flag = 0;\n            if ($(\"input[name = agreement]\").is(':checked')) {\n                flag = 1;\n            }\n            ajax.call(\n                [{\n                    methodname: 'plagiarism_safeassign_update_flag',\n                    args: {\n                        cmid: cmid,\n                        userid: userid,\n                        flag: flag\n                    }\n                }]\n            );\n        });\n    }\n};\n\nexport default disclosure;\n"],"names":["init","cmid","userid","click","flag","is","call","methodname","args"],"mappings":";;;;;;;;;;;;;;;;;;;;8KA4BmB,CAQfA,KAAM,SAASC,KAAMC,4BACf,2BAA2BC,OAAM,eAC3BC,KAAO,GACP,mBAAE,2BAA2BC,GAAG,cAChCD,KAAO,iBAENE,KACD,CAAC,CACGC,WAAY,oCACZC,KAAM,CACFP,KAAMA,KACNC,OAAQA,OACRE,KAAMA"}